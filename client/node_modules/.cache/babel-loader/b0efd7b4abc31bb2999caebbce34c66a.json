{"ast":null,"code":"var _jsxFileName = \"/Users/cd/Desktop/team27/src/js/components/Reminders/ReminderItem/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport DoneIcon from '@material-ui/icons/Done';\nimport EditIcon from '@material-ui/icons/Edit';\nimport goodIcon from '../../../../assets/good_status.png';\nimport badIcon from '../../../../assets/bad_status.png';\nimport hourglassIcon from '../../../../assets/hourglass.png';\nimport './styles.css';\nimport { REMINDER_STATUS } from '../../../constants';\n\nclass ReminderItem extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      reminder: this.props.reminder,\n      user: this.props.activeUser\n    };\n\n    this.getStatusIcon = status => {\n      const statusMap = {\n        [REMINDER_STATUS.active]: hourglassIcon,\n        [REMINDER_STATUS.completed]: goodIcon,\n        [REMINDER_STATUS.overdue]: badIcon\n      };\n      return statusMap[status];\n    };\n  }\n\n  componentDidMount() {\n    const currTime = new Date().getTime();\n    const reminderTime = new Date(this.state.reminder.time);\n    const time = reminderTime - currTime;\n\n    if (!this.notificationExists()) {\n      this.reminderTimer = setTimeout(() => {\n        this.props.notifyAboutReminder(this.state.reminder);\n      }, time);\n      this.props.addTimerHandler(this.state.reminder.id, this.reminderTimer);\n    }\n  }\n\n  notificationExists() {\n    var _this$props$activeUse;\n\n    console.log((_this$props$activeUse = this.props.activeUser) === null || _this$props$activeUse === void 0 ? void 0 : _this$props$activeUse.timers);\n    let i;\n\n    for (i = 0; i < ((_this$props$activeUse2 = this.props.activeUser) === null || _this$props$activeUse2 === void 0 ? void 0 : _this$props$activeUse2.timers.length); i++) {\n      var _this$props$activeUse2, _this$props$activeUse3, _this$props$activeUse4;\n\n      console.log((_this$props$activeUse3 = this.props.activeUser) === null || _this$props$activeUse3 === void 0 ? void 0 : _this$props$activeUse3.timers[i].id, this.state.reminder.id);\n\n      if (((_this$props$activeUse4 = this.props.activeUser) === null || _this$props$activeUse4 === void 0 ? void 0 : _this$props$activeUse4.timers[i].id) === this.state.reminder.id) {\n        console.log(\"STOPPED\");\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  render() {\n    var _this$props$activeUse5;\n\n    const {\n      reminder\n    } = this.props;\n    const options = {\n      month: 'long',\n      day: 'numeric',\n      year: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    };\n    const dateTimeValue = new Date(reminder === null || reminder === void 0 ? void 0 : reminder.time);\n    const dateTimeStr = new Intl.DateTimeFormat('en-US', options).format(dateTimeValue);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ReminderItemWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, console.log((_this$props$activeUse5 = this.props.activeUser) === null || _this$props$activeUse5 === void 0 ? void 0 : _this$props$activeUse5.timers), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"ReminderStatusIcon\",\n      src: this.getStatusIcon(reminder.status),\n      alt: \"reminder status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ReminderDetailsWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, \" \", reminder === null || reminder === void 0 ? void 0 : reminder.name, \" \"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, \" \", dateTimeStr, \" \"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 46\n      }\n    }), reminder === null || reminder === void 0 ? void 0 : reminder.note)), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ReminderActionsWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => {\n        this.props.completeReminderHandler(reminder.category, reminder.id, this.reminderTimer);\n      },\n      \"aria-label\": \"done\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DoneIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      to: `/reminders/add/${reminder === null || reminder === void 0 ? void 0 : reminder.category}/${reminder === null || reminder === void 0 ? void 0 : reminder.subCategory}/${reminder === null || reminder === void 0 ? void 0 : reminder.name}/${reminder === null || reminder === void 0 ? void 0 : reminder.time}/${reminder === null || reminder === void 0 ? void 0 : reminder.note}/${reminder === null || reminder === void 0 ? void 0 : reminder.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(EditIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => {\n        this.props.deleteReminderHandler(reminder.category, reminder.id, this.reminderTimer);\n      },\n      \"aria-label\": \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default ReminderItem;","map":{"version":3,"sources":["/Users/cd/Desktop/team27/src/js/components/Reminders/ReminderItem/index.js"],"names":["React","Component","Link","IconButton","DeleteIcon","DoneIcon","EditIcon","goodIcon","badIcon","hourglassIcon","REMINDER_STATUS","ReminderItem","state","reminder","props","user","activeUser","getStatusIcon","status","statusMap","active","completed","overdue","componentDidMount","currTime","Date","getTime","reminderTime","time","notificationExists","reminderTimer","setTimeout","notifyAboutReminder","addTimerHandler","id","console","log","timers","i","length","render","options","month","day","year","hour","minute","second","dateTimeValue","dateTimeStr","Intl","DateTimeFormat","format","name","note","completeReminderHandler","category","subCategory","deleteReminderHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport DoneIcon from '@material-ui/icons/Done';\nimport EditIcon from '@material-ui/icons/Edit';\nimport goodIcon from '../../../../assets/good_status.png';\nimport badIcon from '../../../../assets/bad_status.png';\nimport hourglassIcon from '../../../../assets/hourglass.png';\nimport './styles.css';\nimport { REMINDER_STATUS } from '../../../constants';\n\nclass ReminderItem extends Component {\n  state = {\n    reminder: this.props.reminder,\n    user: this.props.activeUser,\n  };\n\n  componentDidMount() {\n    const currTime = new Date().getTime();\n    const reminderTime = new Date(this.state.reminder.time);\n    const time = reminderTime - currTime;\n    if (!this.notificationExists()) {\n      this.reminderTimer = setTimeout(() => {\n        this.props.notifyAboutReminder(this.state.reminder);\n      }, time);\n      this.props.addTimerHandler(this.state.reminder.id, this.reminderTimer);\n    }\n  }\n\n  notificationExists() {\n    console.log(this.props.activeUser?.timers)\n    let i;\n    for (i = 0; i < this.props.activeUser?.timers.length; i++) {\n      console.log(this.props.activeUser?.timers[i].id, this.state.reminder.id);\n      if (this.props.activeUser?.timers[i].id === this.state.reminder.id) {\n        console.log(\"STOPPED\");\n        return true;\n      }\n    }\n    return false;\n  }\n\n  getStatusIcon = (status) => {\n    const statusMap = {\n      [REMINDER_STATUS.active]: hourglassIcon,\n      [REMINDER_STATUS.completed]: goodIcon,\n      [REMINDER_STATUS.overdue]: badIcon,\n    };\n\n    return statusMap[status];\n  };\n\n  render() {\n    const { reminder } = this.props;\n    const options = {\n      month: 'long',\n      day: 'numeric',\n      year: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric',\n    };\n    const dateTimeValue = new Date(reminder?.time);\n    const dateTimeStr = new Intl.DateTimeFormat('en-US', options).format(dateTimeValue);\n    return (\n      <div id=\"ReminderItemWrapper\">\n        {console.log(this.props.activeUser?.timers)}\n        <div>\n          <img\n            id=\"ReminderStatusIcon\"\n            src={this.getStatusIcon(reminder.status)}\n            alt=\"reminder status\"\n          />\n        </div>\n        <div id=\"ReminderDetailsWrapper\">\n          <p>\n            <strong> {reminder?.name} </strong> <br />\n            <strong> {dateTimeStr} </strong> <br />\n            {reminder?.note}\n          </p>\n        </div>\n        <div id=\"ReminderActionsWrapper\">\n          <IconButton\n            onClick={() => {\n              this.props.completeReminderHandler(\n                reminder.category,\n                reminder.id,\n                this.reminderTimer,\n              );\n            }}\n            aria-label=\"done\"\n          >\n            <DoneIcon />\n          </IconButton>\n          <Link\n            to={`/reminders/add/${reminder?.category}/${reminder?.subCategory}/${reminder?.name}/${reminder?.time}/${reminder?.note}/${reminder?.id}`}\n          >\n            <IconButton aria-label=\"edit\">\n              <EditIcon />\n            </IconButton>\n          </Link>\n          <IconButton\n            onClick={() => {\n              this.props.deleteReminderHandler(reminder.category, reminder.id, this.reminderTimer);\n            }}\n            aria-label=\"delete\"\n          >\n            <DeleteIcon />\n          </IconButton>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReminderItem;\n"]},"metadata":{},"sourceType":"module"}