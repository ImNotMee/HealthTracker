{"ast":null,"code":"import _classCallCheck from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";var log=console.log;export var viewPlace=function viewPlace(ctx,locations,location){log(\"Viewing \".concat(location,\"...\"));log('Displaying place details',locations[location],'...');ctx.setState({locationViewed:locations[location]});};export var checkInHandler=function checkInHandler(ctx,location){var _ctx$state$activeUser;log(\"Checking in user...\");var _ctx$state=ctx.state,activeUser=_ctx$state.activeUser,locationsDB=_ctx$state.locationsDB;locationsDB[location.id].currOccupancy+=1;locationsDB[location.id].isAvaliable=_isAvaliable(locationsDB[location.id]);activeUser.checkedInLocation=location;activeUser.checkInHistory.push({location:location,time:new Date()});ctx.setState({activeUser:activeUser,locationsDB:locationsDB});log(\"User successfully checked in at \".concat((_ctx$state$activeUser=ctx.state.activeUser.checkedInLocation)===null||_ctx$state$activeUser===void 0?void 0:_ctx$state$activeUser.name));};var _isAvaliable=function _isAvaliable(location){return location.maxOccupancy>location.currOccupancy;};export var isCheckInValid=function isCheckInValid(ctx,location){var _ctx$state$user,_ctx$state$user2,_ctx$state$user2$chec;return(((_ctx$state$user=ctx.state.user)===null||_ctx$state$user===void 0?void 0:_ctx$state$user.checkedInLocation)!==null||ctx.state.selectedLocation!==undefined)&&((_ctx$state$user2=ctx.state.user)===null||_ctx$state$user2===void 0?void 0:(_ctx$state$user2$chec=_ctx$state$user2.checkedInLocation)===null||_ctx$state$user2$chec===void 0?void 0:_ctx$state$user2$chec.id)!==(location===null||location===void 0?void 0:location.id);};export var checkoutHandler=function checkoutHandler(ctx){log(\"Checking-out user...\");var _ctx$state2=ctx.state,activeUser=_ctx$state2.activeUser,locationsDB=_ctx$state2.locationsDB;var location=activeUser.checkedInLocation;locationsDB[location.id].currOccupancy-=1;locationsDB[location.id].isAvaliable=_isAvaliable(locationsDB[location.id]);activeUser.checkedInLocation=undefined;ctx.setState({activeUser:activeUser,locationsDB:locationsDB});log(\"User \".concat(ctx.state.activeUser.checkedInLocation===undefined?'successfully':'unsuccessfully',\" checked-out from \").concat(location===null||location===void 0?void 0:location.name));};export var AppLocation=function AppLocation(name,maxOccupancy,address,description,image){_classCallCheck(this,AppLocation);this.id=name;this.name=name;this.isAvaliable=true;this.address=address;this.country='Canada';this.maxOccupancy=maxOccupancy;this.currOccupancy=0;this.description=description;this.imageUrl=image;};","map":{"version":3,"sources":["/Users/cd/Desktop/team27/src/js/actions/checkIn.js"],"names":["log","console","viewPlace","ctx","locations","location","setState","locationViewed","checkInHandler","state","activeUser","locationsDB","id","currOccupancy","isAvaliable","_isAvaliable","checkedInLocation","checkInHistory","push","time","Date","name","maxOccupancy","isCheckInValid","user","selectedLocation","undefined","checkoutHandler","AppLocation","address","description","image","country","imageUrl"],"mappings":"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","sourcesContent":["const log = console.log;\n\nexport const viewPlace = (ctx, locations, location) => {\n  log(`Viewing ${location}...`);\n  log('Displaying place details', locations[location], '...');\n  ctx.setState({\n    locationViewed: locations[location],\n  });\n};\n\nexport const checkInHandler = (ctx, location) => {\n  log(`Checking in user...`);\n  const { activeUser, locationsDB } = ctx.state;\n  locationsDB[location.id].currOccupancy += 1;\n  locationsDB[location.id].isAvaliable = _isAvaliable(locationsDB[location.id]);\n  activeUser.checkedInLocation = location;\n  activeUser.checkInHistory.push({ location: location, time: new Date() });\n  ctx.setState({\n    activeUser: activeUser,\n    locationsDB: locationsDB,\n  });\n  log(`User successfully checked in at ${ctx.state.activeUser.checkedInLocation?.name}`);\n};\n\nconst _isAvaliable = (location) => {\n  return location.maxOccupancy > location.currOccupancy;\n};\n\nexport const isCheckInValid = (ctx, location) => {\n  return (\n    (ctx.state.user?.checkedInLocation !== null || ctx.state.selectedLocation !== undefined) &&\n    ctx.state.user?.checkedInLocation?.id !== location?.id\n  );\n};\n\nexport const checkoutHandler = (ctx) => {\n  log(`Checking-out user...`);\n  const { activeUser, locationsDB } = ctx.state;\n  const location = activeUser.checkedInLocation;\n  locationsDB[location.id].currOccupancy -= 1;\n  locationsDB[location.id].isAvaliable = _isAvaliable(locationsDB[location.id]);\n  activeUser.checkedInLocation = undefined;\n  ctx.setState({\n    activeUser: activeUser,\n    locationsDB: locationsDB,\n  });\n  log(\n    `User ${\n      ctx.state.activeUser.checkedInLocation === undefined ? 'successfully' : 'unsuccessfully'\n    } checked-out from ${location?.name}`,\n  );\n};\n\nexport class AppLocation {\n  constructor(name, maxOccupancy, address, description, image) {\n    this.id = name;\n    this.name = name;\n    this.isAvaliable = true;\n    this.address = address;\n    this.country = 'Canada';\n    this.maxOccupancy = maxOccupancy;\n    this.currOccupancy = 0;\n    this.description = description;\n    this.imageUrl = image;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}