{"ast":null,"code":"import _classCallCheck from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";var log=console.log;export var viewPlace=function viewPlace(ctx,locations,location){log(\"Viewing \".concat(location,\"...\"));log(\"Displaying place details \".concat(JSON.stringify(locations[location]),\"...\"));ctx.setState({locationViewed:locations[location]});};export var checkInHandler=function checkInHandler(ctx,location){var _ctx$state$activeUser;log(\"Checking in user...\");var _ctx$state=ctx.state,activeUser=_ctx$state.activeUser,locationsDB=_ctx$state.locationsDB;locationsDB[location.id].currOccupancy+=1;locationsDB[location.id].isAvaliable=_isAvaliable(locationsDB[location.id]);activeUser.checkedInLocation=location;ctx.setState({activeUser:activeUser,locationsDB:locationsDB});log(\"User successfully checked in at \".concat((_ctx$state$activeUser=ctx.state.activeUser.checkedInLocation)===null||_ctx$state$activeUser===void 0?void 0:_ctx$state$activeUser.name));};var _isAvaliable=function _isAvaliable(location){return location.maxOccupancy>location.currOccupancy;};export var isCheckInValid=function isCheckInValid(ctx,location){var _ctx$state$user,_ctx$state$user2,_ctx$state$user2$chec;return(((_ctx$state$user=ctx.state.user)===null||_ctx$state$user===void 0?void 0:_ctx$state$user.checkedInLocation)!==null||ctx.state.selectedLocation!==undefined)&&((_ctx$state$user2=ctx.state.user)===null||_ctx$state$user2===void 0?void 0:(_ctx$state$user2$chec=_ctx$state$user2.checkedInLocation)===null||_ctx$state$user2$chec===void 0?void 0:_ctx$state$user2$chec.id)!==(location===null||location===void 0?void 0:location.id);};export var checkoutHandler=function checkoutHandler(ctx){log(\"Checking-out user...\");var _ctx$state2=ctx.state,activeUser=_ctx$state2.activeUser,locationsDB=_ctx$state2.locationsDB;var location=activeUser.checkedInLocation;locationsDB[location.id].currOccupancy-=1;locationsDB[location.id].isAvaliable=_isAvaliable(locationsDB[location.id]);activeUser.checkedInLocation=undefined;ctx.setState({activeUser:activeUser,locationsDB:locationsDB});log(\"User \".concat(ctx.state.activeUser.checkedInLocation===undefined?'successfully':'unsuccessfully',\" checked-out from \").concat(location===null||location===void 0?void 0:location.name));};export var Location=function Location(name,maxOccupancy,currOccupancy,address,description,image){_classCallCheck(this,Location);this.name=name;this.address=address;this.country='Canada';this.maxOccupancy=maxOccupancy;this.currOccupancy=currOccupancy;this.description=description;this.imageUrl=image;};","map":{"version":3,"sources":["/Users/cd/Desktop/team27/src/js/actions/checkIn.js"],"names":["log","console","viewPlace","ctx","locations","location","JSON","stringify","setState","locationViewed","checkInHandler","state","activeUser","locationsDB","id","currOccupancy","isAvaliable","_isAvaliable","checkedInLocation","name","maxOccupancy","isCheckInValid","user","selectedLocation","undefined","checkoutHandler","Location","address","description","image","country","imageUrl"],"mappings":"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","sourcesContent":["const log = console.log;\n\nexport const viewPlace = (ctx, locations, location) => {\n  log(`Viewing ${location}...`);\n  log(`Displaying place details ${JSON.stringify(locations[location])}...`);\n  ctx.setState({\n    locationViewed: locations[location],\n  });\n};\n\nexport const checkInHandler = (ctx, location) => {\n  log(`Checking in user...`);\n  const { activeUser, locationsDB } = ctx.state;\n  locationsDB[location.id].currOccupancy += 1;\n  locationsDB[location.id].isAvaliable = _isAvaliable(locationsDB[location.id]);\n  activeUser.checkedInLocation = location;\n  ctx.setState({\n    activeUser: activeUser,\n    locationsDB: locationsDB,\n  });\n  log(`User successfully checked in at ${ctx.state.activeUser.checkedInLocation?.name}`);\n};\n\nconst _isAvaliable = (location) => {\n  return location.maxOccupancy > location.currOccupancy;\n};\n\nexport const isCheckInValid = (ctx, location) => {\n  return (\n    (ctx.state.user?.checkedInLocation !== null || ctx.state.selectedLocation !== undefined) &&\n    ctx.state.user?.checkedInLocation?.id !== location?.id\n  );\n};\n\nexport const checkoutHandler = (ctx) => {\n  log(`Checking-out user...`);\n  const { activeUser, locationsDB } = ctx.state;\n  const location = activeUser.checkedInLocation;\n  locationsDB[location.id].currOccupancy -= 1;\n  locationsDB[location.id].isAvaliable = _isAvaliable(locationsDB[location.id]);\n  activeUser.checkedInLocation = undefined;\n  ctx.setState({\n    activeUser: activeUser,\n    locationsDB: locationsDB,\n  });\n  log(\n    `User ${\n      ctx.state.activeUser.checkedInLocation === undefined ? 'successfully' : 'unsuccessfully'\n    } checked-out from ${location?.name}`,\n  );\n};\n\nexport class Location {\n  constructor(name, maxOccupancy, currOccupancy, address, description, image) {\n    this.name = name;\n    this.address = address;\n    this.country = 'Canada';\n    this.maxOccupancy = maxOccupancy;\n    this.currOccupancy = currOccupancy;\n    this.description = description;\n    this.imageUrl = image;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}