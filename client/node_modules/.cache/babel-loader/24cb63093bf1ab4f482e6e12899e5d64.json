{"ast":null,"code":"import _classCallCheck from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import{REMINDER_STATUS,NOTIFICATION_TYPE,ADMIN_ACCOUNT_TYPE}from'../constants';import{addNotificationHandler}from'./notification';var log=console.log;export var addReminderHandler=function addReminderHandler(appCtx,reminderCtx){log('Adding new reminder...');var isInputValid=_reminderInputValidate(appCtx,reminderCtx);log('Input validity status: '+isInputValid);if(isInputValid){_addReminder(appCtx,reminderCtx);reminderCtx.setState({newReminderAdded:true});log(\"Successfully added new reminder '\".concat(reminderCtx.state.reminderName,\"'\"));}else{log('Unsuccessfully in adding reminder');}};var _addReminder=function _addReminder(appCtx,reminderCtx){var user=appCtx.state.activeUser;var _reminderCtx$state=reminderCtx.state,category=_reminderCtx$state.category,subCategory=_reminderCtx$state.subCategory,reminderName=_reminderCtx$state.reminderName,reminderTime=_reminderCtx$state.reminderTime,reminderNote=_reminderCtx$state.reminderNote;var newReminder=new Reminder(category,subCategory,reminderName,reminderTime,reminderNote);user.reminders[reminderCtx.state.category].push(newReminder);appCtx.setState({activeUser:user});};var _reminderInputValidate=function _reminderInputValidate(appCtx,reminderCtx){log('Validating reminder inputs...');var isCategoryValid=_isInvalid(reminderCtx.state.category);var isSubCategoryValid=appCtx.state.activeUser.type===ADMIN_ACCOUNT_TYPE?true:_isInvalid(reminderCtx.state.subCategory);var isNameValid=_isInvalid(reminderCtx.state.reminderName);var isDateTimeValid=_isInvalid(reminderCtx.state.reminderTime);reminderCtx.setState({isCategoryValid:isCategoryValid,isSubCategoryValid:isSubCategoryValid,isNameValid:isNameValid,isDateTimeValid:isDateTimeValid});return isCategoryValid&&isSubCategoryValid&&isNameValid&&isDateTimeValid;};var _isInvalid=function _isInvalid(value){return value!==null&&value!==undefined&&value!==''&&value!=='select';};export var editReminderHandler=function editReminderHandler(appCtx,reminderCtx,category,id){log('Editing reminder...');var isInputValid=_reminderInputValidate(reminderCtx);if(isInputValid){_editReminder(appCtx,reminderCtx,category,id);reminderCtx.setState({newReminderAdded:true});log('Successfully editted reminder');}else{log('Unsuccessfully editing reminder');}};var _editReminder=function _editReminder(appCtx,reminderCtx,category,id){var user=appCtx.state.activeUser;var index=_getReminderIndex(user.reminders[category],id);var reminder=user.reminders[category][index];reminder.category=reminderCtx.state.category;reminder.subCategory=reminderCtx.state.subCategory;reminder.name=reminderCtx.state.reminderName;reminder.time=reminderCtx.state.reminderTime;reminder.note=reminderCtx.state.reminderNote;user.reminders[category][index]=reminder;appCtx.setState({activeUser:user});};export var completeReminderHandler=function completeReminderHandler(ctx,category,id,timeout){log('Updating status of reminder to completed...');setReminderStatus(ctx,category,id,REMINDER_STATUS.completed);clearTimeout(timeout);log('Successfully completed reminder');};export var deleteReminderHandler=function deleteReminderHandler(ctx,category,id,timeout){log('Removing reminder...');var user=ctx.state.activeUser;var index=_getReminderIndex(user.reminders[category],id);var reminders=user.reminders[category];reminders.splice(index,1);user.reminders[category]=reminders;ctx.setState({activeUser:user});clearTimeout(timeout);log('Successfully removed reminder');};export var setReminderStatus=function setReminderStatus(ctx,category,id,status){var user=ctx.state.activeUser;var index=_getReminderIndex(user.reminders[category],id);var reminder=user.reminders[category][index];reminder.status=status;user.reminders[category][id]=reminder;ctx.setState({activeUser:user});};export var notifyAboutReminder=function notifyAboutReminder(ctx,reminder){setReminderStatus(ctx,reminder.category,reminder.id,REMINDER_STATUS.overdue);addNotificationHandler(ctx,NOTIFICATION_TYPE.reminder,reminder.name,reminder.note);};var _getReminderIndex=function _getReminderIndex(list,id){var i;for(i=0;i<(list===null||list===void 0?void 0:list.length);i++){if(list[i].id===id){return i;}}};export var Reminder=function Reminder(category,subCategory,name,time,note){_classCallCheck(this,Reminder);this._generateId=function(){return'r'+Math.random().toString(36).substr(3,8);};this.category=category;this.subCategory=subCategory;this.name=name;this.time=time;this.note=note;this.id=this._generateId();this.status=REMINDER_STATUS.active;};","map":{"version":3,"sources":["/Users/cd/Desktop/team27/src/js/actions/reminders.js"],"names":["REMINDER_STATUS","NOTIFICATION_TYPE","ADMIN_ACCOUNT_TYPE","addNotificationHandler","log","console","addReminderHandler","appCtx","reminderCtx","isInputValid","_reminderInputValidate","_addReminder","setState","newReminderAdded","state","reminderName","user","activeUser","category","subCategory","reminderTime","reminderNote","newReminder","Reminder","reminders","push","isCategoryValid","_isInvalid","isSubCategoryValid","type","isNameValid","isDateTimeValid","value","undefined","editReminderHandler","id","_editReminder","index","_getReminderIndex","reminder","name","time","note","completeReminderHandler","ctx","timeout","setReminderStatus","completed","clearTimeout","deleteReminderHandler","splice","status","notifyAboutReminder","overdue","list","i","length","_generateId","Math","random","toString","substr","active"],"mappings":"iJAAA,OAASA,eAAT,CAA0BC,iBAA1B,CAA6CC,kBAA7C,KAAuE,cAAvE,CACA,OAASC,sBAAT,KAAuC,gBAAvC,CAEA,GAAMC,CAAAA,GAAG,CAAGC,OAAO,CAACD,GAApB,CAEA,MAAO,IAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,MAAD,CAASC,WAAT,CAAyB,CACzDJ,GAAG,CAAC,wBAAD,CAAH,CACA,GAAMK,CAAAA,YAAY,CAAGC,sBAAsB,CAACH,MAAD,CAASC,WAAT,CAA3C,CACAJ,GAAG,CAAC,0BAA4BK,YAA7B,CAAH,CACA,GAAIA,YAAJ,CAAkB,CAChBE,YAAY,CAACJ,MAAD,CAASC,WAAT,CAAZ,CACAA,WAAW,CAACI,QAAZ,CAAqB,CACnBC,gBAAgB,CAAE,IADC,CAArB,EAGAT,GAAG,4CAAqCI,WAAW,CAACM,KAAZ,CAAkBC,YAAvD,MAAH,CACD,CAND,IAMO,CACLX,GAAG,CAAC,mCAAD,CAAH,CACD,CACF,CAbM,CAeP,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,MAAD,CAASC,WAAT,CAAyB,CAC5C,GAAMQ,CAAAA,IAAI,CAAGT,MAAM,CAACO,KAAP,CAAaG,UAA1B,CAD4C,uBAEgCT,WAAW,CAACM,KAF5C,CAEpCI,QAFoC,oBAEpCA,QAFoC,CAE1BC,WAF0B,oBAE1BA,WAF0B,CAEbJ,YAFa,oBAEbA,YAFa,CAECK,YAFD,oBAECA,YAFD,CAEeC,YAFf,oBAEeA,YAFf,CAG5C,GAAMC,CAAAA,WAAW,CAAG,GAAIC,CAAAA,QAAJ,CAAaL,QAAb,CAAuBC,WAAvB,CAAoCJ,YAApC,CAAkDK,YAAlD,CAAgEC,YAAhE,CAApB,CACAL,IAAI,CAACQ,SAAL,CAAehB,WAAW,CAACM,KAAZ,CAAkBI,QAAjC,EAA2CO,IAA3C,CAAgDH,WAAhD,EACAf,MAAM,CAACK,QAAP,CAAgB,CACdK,UAAU,CAAED,IADE,CAAhB,EAGD,CARD,CAUA,GAAMN,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACH,MAAD,CAASC,WAAT,CAAyB,CACtDJ,GAAG,CAAC,+BAAD,CAAH,CACA,GAAMsB,CAAAA,eAAe,CAAGC,UAAU,CAACnB,WAAW,CAACM,KAAZ,CAAkBI,QAAnB,CAAlC,CACA,GAAMU,CAAAA,kBAAkB,CACtBrB,MAAM,CAACO,KAAP,CAAaG,UAAb,CAAwBY,IAAxB,GAAiC3B,kBAAjC,CACI,IADJ,CAEIyB,UAAU,CAACnB,WAAW,CAACM,KAAZ,CAAkBK,WAAnB,CAHhB,CAIA,GAAMW,CAAAA,WAAW,CAAGH,UAAU,CAACnB,WAAW,CAACM,KAAZ,CAAkBC,YAAnB,CAA9B,CACA,GAAMgB,CAAAA,eAAe,CAAGJ,UAAU,CAACnB,WAAW,CAACM,KAAZ,CAAkBM,YAAnB,CAAlC,CACAZ,WAAW,CAACI,QAAZ,CAAqB,CACnBc,eAAe,CAAEA,eADE,CAEnBE,kBAAkB,CAAEA,kBAFD,CAGnBE,WAAW,CAAEA,WAHM,CAInBC,eAAe,CAAEA,eAJE,CAArB,EAOA,MAAOL,CAAAA,eAAe,EAAIE,kBAAnB,EAAyCE,WAAzC,EAAwDC,eAA/D,CACD,CAjBD,CAmBA,GAAMJ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACK,KAAD,CAAW,CAC5B,MAAOA,CAAAA,KAAK,GAAK,IAAV,EAAkBA,KAAK,GAAKC,SAA5B,EAAyCD,KAAK,GAAK,EAAnD,EAAyDA,KAAK,GAAK,QAA1E,CACD,CAFD,CAIA,MAAO,IAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAC3B,MAAD,CAASC,WAAT,CAAsBU,QAAtB,CAAgCiB,EAAhC,CAAuC,CACxE/B,GAAG,CAAC,qBAAD,CAAH,CACA,GAAMK,CAAAA,YAAY,CAAGC,sBAAsB,CAACF,WAAD,CAA3C,CACA,GAAIC,YAAJ,CAAkB,CAChB2B,aAAa,CAAC7B,MAAD,CAASC,WAAT,CAAsBU,QAAtB,CAAgCiB,EAAhC,CAAb,CACA3B,WAAW,CAACI,QAAZ,CAAqB,CACnBC,gBAAgB,CAAE,IADC,CAArB,EAGAT,GAAG,CAAC,+BAAD,CAAH,CACD,CAND,IAMO,CACLA,GAAG,CAAC,iCAAD,CAAH,CACD,CACF,CAZM,CAcP,GAAMgC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAC7B,MAAD,CAASC,WAAT,CAAsBU,QAAtB,CAAgCiB,EAAhC,CAAuC,CAC3D,GAAMnB,CAAAA,IAAI,CAAGT,MAAM,CAACO,KAAP,CAAaG,UAA1B,CACA,GAAMoB,CAAAA,KAAK,CAAGC,iBAAiB,CAACtB,IAAI,CAACQ,SAAL,CAAeN,QAAf,CAAD,CAA2BiB,EAA3B,CAA/B,CACA,GAAMI,CAAAA,QAAQ,CAAGvB,IAAI,CAACQ,SAAL,CAAeN,QAAf,EAAyBmB,KAAzB,CAAjB,CACAE,QAAQ,CAACrB,QAAT,CAAoBV,WAAW,CAACM,KAAZ,CAAkBI,QAAtC,CACAqB,QAAQ,CAACpB,WAAT,CAAuBX,WAAW,CAACM,KAAZ,CAAkBK,WAAzC,CACAoB,QAAQ,CAACC,IAAT,CAAgBhC,WAAW,CAACM,KAAZ,CAAkBC,YAAlC,CACAwB,QAAQ,CAACE,IAAT,CAAgBjC,WAAW,CAACM,KAAZ,CAAkBM,YAAlC,CACAmB,QAAQ,CAACG,IAAT,CAAgBlC,WAAW,CAACM,KAAZ,CAAkBO,YAAlC,CACAL,IAAI,CAACQ,SAAL,CAAeN,QAAf,EAAyBmB,KAAzB,EAAkCE,QAAlC,CACAhC,MAAM,CAACK,QAAP,CAAgB,CACdK,UAAU,CAAED,IADE,CAAhB,EAGD,CAbD,CAeA,MAAO,IAAM2B,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACC,GAAD,CAAM1B,QAAN,CAAgBiB,EAAhB,CAAoBU,OAApB,CAAgC,CACrEzC,GAAG,CAAC,6CAAD,CAAH,CACA0C,iBAAiB,CAACF,GAAD,CAAM1B,QAAN,CAAgBiB,EAAhB,CAAoBnC,eAAe,CAAC+C,SAApC,CAAjB,CACAC,YAAY,CAACH,OAAD,CAAZ,CACAzC,GAAG,CAAC,iCAAD,CAAH,CACD,CALM,CAOP,MAAO,IAAM6C,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACL,GAAD,CAAM1B,QAAN,CAAgBiB,EAAhB,CAAoBU,OAApB,CAAgC,CACnEzC,GAAG,CAAC,sBAAD,CAAH,CACA,GAAMY,CAAAA,IAAI,CAAG4B,GAAG,CAAC9B,KAAJ,CAAUG,UAAvB,CACA,GAAMoB,CAAAA,KAAK,CAAGC,iBAAiB,CAACtB,IAAI,CAACQ,SAAL,CAAeN,QAAf,CAAD,CAA2BiB,EAA3B,CAA/B,CACA,GAAMX,CAAAA,SAAS,CAAGR,IAAI,CAACQ,SAAL,CAAeN,QAAf,CAAlB,CACAM,SAAS,CAAC0B,MAAV,CAAiBb,KAAjB,CAAwB,CAAxB,EACArB,IAAI,CAACQ,SAAL,CAAeN,QAAf,EAA2BM,SAA3B,CACAoB,GAAG,CAAChC,QAAJ,CAAa,CACXK,UAAU,CAAED,IADD,CAAb,EAGAgC,YAAY,CAACH,OAAD,CAAZ,CACAzC,GAAG,CAAC,+BAAD,CAAH,CACD,CAZM,CAcP,MAAO,IAAM0C,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACF,GAAD,CAAM1B,QAAN,CAAgBiB,EAAhB,CAAoBgB,MAApB,CAA+B,CAC9D,GAAMnC,CAAAA,IAAI,CAAG4B,GAAG,CAAC9B,KAAJ,CAAUG,UAAvB,CACA,GAAMoB,CAAAA,KAAK,CAAGC,iBAAiB,CAACtB,IAAI,CAACQ,SAAL,CAAeN,QAAf,CAAD,CAA2BiB,EAA3B,CAA/B,CACA,GAAMI,CAAAA,QAAQ,CAAGvB,IAAI,CAACQ,SAAL,CAAeN,QAAf,EAAyBmB,KAAzB,CAAjB,CACAE,QAAQ,CAACY,MAAT,CAAkBA,MAAlB,CACAnC,IAAI,CAACQ,SAAL,CAAeN,QAAf,EAAyBiB,EAAzB,EAA+BI,QAA/B,CACAK,GAAG,CAAChC,QAAJ,CAAa,CACXK,UAAU,CAAED,IADD,CAAb,EAGD,CATM,CAWP,MAAO,IAAMoC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACR,GAAD,CAAML,QAAN,CAAmB,CACpDO,iBAAiB,CAACF,GAAD,CAAML,QAAQ,CAACrB,QAAf,CAAyBqB,QAAQ,CAACJ,EAAlC,CAAsCnC,eAAe,CAACqD,OAAtD,CAAjB,CACAlD,sBAAsB,CAACyC,GAAD,CAAM3C,iBAAiB,CAACsC,QAAxB,CAAkCA,QAAQ,CAACC,IAA3C,CAAiDD,QAAQ,CAACG,IAA1D,CAAtB,CACD,CAHM,CAKP,GAAMJ,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACgB,IAAD,CAAOnB,EAAP,CAAc,CACtC,GAAIoB,CAAAA,CAAJ,CACA,IAAKA,CAAC,CAAG,CAAT,CAAYA,CAAC,EAAGD,IAAH,SAAGA,IAAH,iBAAGA,IAAI,CAAEE,MAAT,CAAb,CAA8BD,CAAC,EAA/B,CAAmC,CACjC,GAAID,IAAI,CAACC,CAAD,CAAJ,CAAQpB,EAAR,GAAeA,EAAnB,CAAuB,CACrB,MAAOoB,CAAAA,CAAP,CACD,CACF,CACF,CAPD,CASA,UAAahC,CAAAA,QAAb,CACE,kBAAYL,QAAZ,CAAsBC,WAAtB,CAAmCqB,IAAnC,CAAyCC,IAAzC,CAA+CC,IAA/C,CAAqD,qCAUrDe,WAVqD,CAUvC,UAAM,CAClB,MAAO,IAAMC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,CAAqC,CAArC,CAAb,CACD,CAZoD,CACnD,KAAK3C,QAAL,CAAgBA,QAAhB,CACA,KAAKC,WAAL,CAAmBA,WAAnB,CACA,KAAKqB,IAAL,CAAYA,IAAZ,CACA,KAAKC,IAAL,CAAYA,IAAZ,CACA,KAAKC,IAAL,CAAYA,IAAZ,CACA,KAAKP,EAAL,CAAU,KAAKsB,WAAL,EAAV,CACA,KAAKN,MAAL,CAAcnD,eAAe,CAAC8D,MAA9B,CACD,CATH","sourcesContent":["import { REMINDER_STATUS, NOTIFICATION_TYPE, ADMIN_ACCOUNT_TYPE } from '../constants';\nimport { addNotificationHandler } from './notification';\n\nconst log = console.log;\n\nexport const addReminderHandler = (appCtx, reminderCtx) => {\n  log('Adding new reminder...');\n  const isInputValid = _reminderInputValidate(appCtx, reminderCtx);\n  log('Input validity status: ' + isInputValid);\n  if (isInputValid) {\n    _addReminder(appCtx, reminderCtx);\n    reminderCtx.setState({\n      newReminderAdded: true,\n    });\n    log(`Successfully added new reminder '${reminderCtx.state.reminderName}'`);\n  } else {\n    log('Unsuccessfully in adding reminder');\n  }\n};\n\nconst _addReminder = (appCtx, reminderCtx) => {\n  const user = appCtx.state.activeUser;\n  const { category, subCategory, reminderName, reminderTime, reminderNote } = reminderCtx.state;\n  const newReminder = new Reminder(category, subCategory, reminderName, reminderTime, reminderNote);\n  user.reminders[reminderCtx.state.category].push(newReminder);\n  appCtx.setState({\n    activeUser: user,\n  });\n};\n\nconst _reminderInputValidate = (appCtx, reminderCtx) => {\n  log('Validating reminder inputs...');\n  const isCategoryValid = _isInvalid(reminderCtx.state.category);\n  const isSubCategoryValid =\n    appCtx.state.activeUser.type === ADMIN_ACCOUNT_TYPE\n      ? true\n      : _isInvalid(reminderCtx.state.subCategory);\n  const isNameValid = _isInvalid(reminderCtx.state.reminderName);\n  const isDateTimeValid = _isInvalid(reminderCtx.state.reminderTime);\n  reminderCtx.setState({\n    isCategoryValid: isCategoryValid,\n    isSubCategoryValid: isSubCategoryValid,\n    isNameValid: isNameValid,\n    isDateTimeValid: isDateTimeValid,\n  });\n\n  return isCategoryValid && isSubCategoryValid && isNameValid && isDateTimeValid;\n};\n\nconst _isInvalid = (value) => {\n  return value !== null && value !== undefined && value !== '' && value !== 'select';\n};\n\nexport const editReminderHandler = (appCtx, reminderCtx, category, id) => {\n  log('Editing reminder...');\n  const isInputValid = _reminderInputValidate(reminderCtx);\n  if (isInputValid) {\n    _editReminder(appCtx, reminderCtx, category, id);\n    reminderCtx.setState({\n      newReminderAdded: true,\n    });\n    log('Successfully editted reminder');\n  } else {\n    log('Unsuccessfully editing reminder');\n  }\n};\n\nconst _editReminder = (appCtx, reminderCtx, category, id) => {\n  const user = appCtx.state.activeUser;\n  const index = _getReminderIndex(user.reminders[category], id);\n  const reminder = user.reminders[category][index];\n  reminder.category = reminderCtx.state.category;\n  reminder.subCategory = reminderCtx.state.subCategory;\n  reminder.name = reminderCtx.state.reminderName;\n  reminder.time = reminderCtx.state.reminderTime;\n  reminder.note = reminderCtx.state.reminderNote;\n  user.reminders[category][index] = reminder;\n  appCtx.setState({\n    activeUser: user,\n  });\n};\n\nexport const completeReminderHandler = (ctx, category, id, timeout) => {\n  log('Updating status of reminder to completed...');\n  setReminderStatus(ctx, category, id, REMINDER_STATUS.completed);\n  clearTimeout(timeout);\n  log('Successfully completed reminder');\n};\n\nexport const deleteReminderHandler = (ctx, category, id, timeout) => {\n  log('Removing reminder...');\n  const user = ctx.state.activeUser;\n  const index = _getReminderIndex(user.reminders[category], id);\n  const reminders = user.reminders[category];\n  reminders.splice(index, 1);\n  user.reminders[category] = reminders;\n  ctx.setState({\n    activeUser: user,\n  });\n  clearTimeout(timeout);\n  log('Successfully removed reminder');\n};\n\nexport const setReminderStatus = (ctx, category, id, status) => {\n  const user = ctx.state.activeUser;\n  const index = _getReminderIndex(user.reminders[category], id);\n  const reminder = user.reminders[category][index];\n  reminder.status = status;\n  user.reminders[category][id] = reminder;\n  ctx.setState({\n    activeUser: user,\n  });\n};\n\nexport const notifyAboutReminder = (ctx, reminder) => {\n  setReminderStatus(ctx, reminder.category, reminder.id, REMINDER_STATUS.overdue);\n  addNotificationHandler(ctx, NOTIFICATION_TYPE.reminder, reminder.name, reminder.note);\n};\n\nconst _getReminderIndex = (list, id) => {\n  let i;\n  for (i = 0; i < list?.length; i++) {\n    if (list[i].id === id) {\n      return i;\n    }\n  }\n};\n\nexport class Reminder {\n  constructor(category, subCategory, name, time, note) {\n    this.category = category;\n    this.subCategory = subCategory;\n    this.name = name;\n    this.time = time;\n    this.note = note;\n    this.id = this._generateId();\n    this.status = REMINDER_STATUS.active;\n  }\n\n  _generateId = () => {\n    return 'r' + Math.random().toString(36).substr(3, 8);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}