{"ast":null,"code":"import _defineProperty from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import IconButton from'@material-ui/core/IconButton';import DeleteIcon from'@material-ui/icons/Delete';import DoneIcon from'@material-ui/icons/Done';import EditIcon from'@material-ui/icons/Edit';import goodIcon from'../../../../assets/good_status.png';import badIcon from'../../../../assets/bad_status.png';import hourglassIcon from'../../../../assets/hourglass.png';import{playSound}from'../../../actions/notification';import{REMINDER_STATUS}from'../../../constants';import'./styles.css';var ReminderItem=/*#__PURE__*/function(_Component){_inherits(ReminderItem,_Component);var _super=_createSuper(ReminderItem);function ReminderItem(){var _this;_classCallCheck(this,ReminderItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={reminder:_this.props.reminder,user:_this.props.activeUser};_this.getStatusIcon=function(status){var _statusMap;var statusMap=(_statusMap={},_defineProperty(_statusMap,REMINDER_STATUS.active,hourglassIcon),_defineProperty(_statusMap,REMINDER_STATUS.completed,goodIcon),_defineProperty(_statusMap,REMINDER_STATUS.overdue,badIcon),_statusMap);return statusMap[status];};return _this;}_createClass(ReminderItem,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var currTime=new Date().getTime();var reminderTime=new Date(this.state.reminder.time);var time=reminderTime-currTime;if(!this.notificationExists()){this.reminderTimer=setTimeout(function(){playSound();_this2.props.notifyAboutReminder(_this2.state.reminder);},time);this.props.addTimerHandler(this.state.reminder.id,this.reminderTimer);}}},{key:\"notificationExists\",value:function notificationExists(){var i;for(i=0;i<((_this$props$activeUse=this.props.activeUser)===null||_this$props$activeUse===void 0?void 0:_this$props$activeUse.timers.length);i++){var _this$props$activeUse,_this$props$activeUse2;if(((_this$props$activeUse2=this.props.activeUser)===null||_this$props$activeUse2===void 0?void 0:_this$props$activeUse2.timers[i].id)===this.state.reminder.id){return true;}}return false;}},{key:\"render\",value:function render(){var _this3=this;var reminder=this.props.reminder;var options={month:'long',day:'numeric',year:'numeric',hour:'numeric',minute:'numeric',second:'numeric'};var dateTimeValue=new Date(reminder===null||reminder===void 0?void 0:reminder.time);var dateTimeStr=new Intl.DateTimeFormat('en-US',options).format(dateTimeValue);return/*#__PURE__*/React.createElement(\"div\",{id:\"ReminderItemWrapper\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{id:\"ReminderStatusIcon\",src:this.getStatusIcon(reminder.status),alt:\"reminder status\"})),/*#__PURE__*/React.createElement(\"div\",{id:\"ReminderDetailsWrapper\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\" \",reminder===null||reminder===void 0?void 0:reminder.name,\" \"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"strong\",null,\" \",dateTimeStr,\" \"),\" \",/*#__PURE__*/React.createElement(\"br\",null),reminder===null||reminder===void 0?void 0:reminder.note)),/*#__PURE__*/React.createElement(\"div\",{id:\"ReminderActionsWrapper\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){_this3.props.completeReminderHandler(reminder.category,reminder.id,_this3.reminderTimer);},\"aria-label\":\"done\"},/*#__PURE__*/React.createElement(DoneIcon,null)),/*#__PURE__*/React.createElement(Link,{to:\"/reminders/add/\".concat(reminder===null||reminder===void 0?void 0:reminder.category,\"/\").concat(reminder===null||reminder===void 0?void 0:reminder.subCategory,\"/\").concat(reminder===null||reminder===void 0?void 0:reminder.name,\"/\").concat(reminder===null||reminder===void 0?void 0:reminder.time,\"/\").concat(reminder===null||reminder===void 0?void 0:reminder.note,\"/\").concat(reminder===null||reminder===void 0?void 0:reminder.id)},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"edit\"},/*#__PURE__*/React.createElement(EditIcon,null))),/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){_this3.props.deleteReminderHandler(reminder.category,reminder.id,_this3.reminderTimer);},\"aria-label\":\"delete\"},/*#__PURE__*/React.createElement(DeleteIcon,null))));}}]);return ReminderItem;}(Component);export default ReminderItem;","map":{"version":3,"sources":["/Users/cd/Desktop/team27/src/js/components/Reminders/ReminderItem/index.js"],"names":["React","Component","Link","IconButton","DeleteIcon","DoneIcon","EditIcon","goodIcon","badIcon","hourglassIcon","playSound","REMINDER_STATUS","ReminderItem","state","reminder","props","user","activeUser","getStatusIcon","status","statusMap","active","completed","overdue","currTime","Date","getTime","reminderTime","time","notificationExists","reminderTimer","setTimeout","notifyAboutReminder","addTimerHandler","id","i","timers","length","options","month","day","year","hour","minute","second","dateTimeValue","dateTimeStr","Intl","DateTimeFormat","format","name","note","completeReminderHandler","category","subCategory","deleteReminderHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport DoneIcon from '@material-ui/icons/Done';\nimport EditIcon from '@material-ui/icons/Edit';\nimport goodIcon from '../../../../assets/good_status.png';\nimport badIcon from '../../../../assets/bad_status.png';\nimport hourglassIcon from '../../../../assets/hourglass.png';\nimport { playSound } from '../../../actions/notification';\nimport { REMINDER_STATUS } from '../../../constants';\nimport './styles.css';\n\nclass ReminderItem extends Component {\n  state = {\n    reminder: this.props.reminder,\n    user: this.props.activeUser,\n  };\n\n  componentDidMount() {\n    const currTime = new Date().getTime();\n    const reminderTime = new Date(this.state.reminder.time);\n    const time = reminderTime - currTime;\n    if (!this.notificationExists()) {\n      this.reminderTimer = setTimeout(() => {\n        playSound();\n        this.props.notifyAboutReminder(this.state.reminder);\n      }, time);\n      this.props.addTimerHandler(this.state.reminder.id, this.reminderTimer);\n    }\n  }\n\n  notificationExists() {\n    let i;\n    for (i = 0; i < this.props.activeUser?.timers.length; i++) {\n      if (this.props.activeUser?.timers[i].id === this.state.reminder.id) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  getStatusIcon = (status) => {\n    const statusMap = {\n      [REMINDER_STATUS.active]: hourglassIcon,\n      [REMINDER_STATUS.completed]: goodIcon,\n      [REMINDER_STATUS.overdue]: badIcon,\n    };\n\n    return statusMap[status];\n  };\n\n  render() {\n    const { reminder } = this.props;\n    const options = {\n      month: 'long',\n      day: 'numeric',\n      year: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric',\n    };\n    const dateTimeValue = new Date(reminder?.time);\n    const dateTimeStr = new Intl.DateTimeFormat('en-US', options).format(dateTimeValue);\n    return (\n      <div id=\"ReminderItemWrapper\">\n        <div>\n          <img\n            id=\"ReminderStatusIcon\"\n            src={this.getStatusIcon(reminder.status)}\n            alt=\"reminder status\"\n          />\n        </div>\n        <div id=\"ReminderDetailsWrapper\">\n          <p>\n            <strong> {reminder?.name} </strong> <br />\n            <strong> {dateTimeStr} </strong> <br />\n            {reminder?.note}\n          </p>\n        </div>\n        <div id=\"ReminderActionsWrapper\">\n          <IconButton\n            onClick={() => {\n              this.props.completeReminderHandler(\n                reminder.category,\n                reminder.id,\n                this.reminderTimer,\n              );\n            }}\n            aria-label=\"done\"\n          >\n            <DoneIcon />\n          </IconButton>\n          <Link\n            to={`/reminders/add/${reminder?.category}/${reminder?.subCategory}/${reminder?.name}/${reminder?.time}/${reminder?.note}/${reminder?.id}`}\n          >\n            <IconButton aria-label=\"edit\">\n              <EditIcon />\n            </IconButton>\n          </Link>\n          <IconButton\n            onClick={() => {\n              this.props.deleteReminderHandler(reminder.category, reminder.id, this.reminderTimer);\n            }}\n            aria-label=\"delete\"\n          >\n            <DeleteIcon />\n          </IconButton>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReminderItem;\n"]},"metadata":{},"sourceType":"module"}