{"ast":null,"code":"import _classCallCheck from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/cd/Desktop/team27/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Redirect}from'react-router-dom';import{onInputChangeHandler}from'../../actions/utils';import'./styles.css';var AddLocation=/*#__PURE__*/function(_Component){_inherits(AddLocation,_Component);var _super=_createSuper(AddLocation);function AddLocation(){var _this$props$match,_this$props$match2,_this$props$match3,_this$props$match4,_this$props$match5;var _this;_classCallCheck(this,AddLocation);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={locationName:(_this$props$match=_this.props.match)===null||_this$props$match===void 0?void 0:_this$props$match.params.name,address:(_this$props$match2=_this.props.match)===null||_this$props$match2===void 0?void 0:_this$props$match2.params.addr,imageUrl:decodeURIComponent((_this$props$match3=_this.props.match)===null||_this$props$match3===void 0?void 0:_this$props$match3.params.img),maxOccupancy:(_this$props$match4=_this.props.match)===null||_this$props$match4===void 0?void 0:_this$props$match4.params.maxOcc,description:(_this$props$match5=_this.props.match)===null||_this$props$match5===void 0?void 0:_this$props$match5.params.desc,isNameValid:true,isAddressValid:true,isImageUrlValid:true,isMaxOccValid:true,isDescValid:true,newLocationAdded:false};_this.goToAlertSystem=function(){if(_this.state.newLocationAdded){return/*#__PURE__*/React.createElement(Redirect,{to:\"/alert-system\"});}};_this.displayErrorMsg=function(){var _this$state=_this.state,isNameValid=_this$state.isNameValid,isAddressValid=_this$state.isAddressValid,isImageUrlValid=_this$state.isImageUrlValid,isMaxOccValid=_this$state.isMaxOccValid,isDescValid=_this$state.isDescValid;if(isNameValid&&isAddressValid&&isImageUrlValid&&isMaxOccValid&&isDescValid){return'';}else{return/*#__PURE__*/React.createElement(\"span\",{className:\"errorMsg\"},\" Input fields in red are missing\");}};return _this;}_createClass(AddLocation,[{key:\"render\",value:function render(){var _this$props$match6,_this2=this,_this$props$match7;return/*#__PURE__*/React.createElement(\"div\",{id:\"AddLocationWrapper\"},this.goToAlertSystem(),/*#__PURE__*/React.createElement(\"div\",{id:\"AddLocationWindow\",className:\"windowWrapper\"},/*#__PURE__*/React.createElement(\"h1\",null,\" \",((_this$props$match6=this.props.match)===null||_this$props$match6===void 0?void 0:_this$props$match6.params.name)!==undefined?'Edit':'Add',\" Location \"),this.displayErrorMsg(),/*#__PURE__*/React.createElement(\"div\",{className:\"locationInputWrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"inputLabel\"},\" Location Name: \"),/*#__PURE__*/React.createElement(\"input\",{className:\"input \".concat(this.state.isNameValid?'':'invalidInput'),type:\"text\",id:\"LocationName\",name:\"locationName\",placeholder:\"Location name\",value:this.state.locationName===undefined?'':this.state.locationName,onChange:function onChange(event){onInputChangeHandler(_this2,event);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"locationInputWrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"inputLabel\"},\" Address: \"),/*#__PURE__*/React.createElement(\"input\",{className:\"input \".concat(this.state.isAddressValid?'':'invalidInput'),type:\"text\",id:\"LocationAddress\",name:\"address\",placeholder:\"Address\",value:this.state.address===undefined?'':this.state.address,onChange:function onChange(event){onInputChangeHandler(_this2,event);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"locationInputWrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"inputLabel\"},\" Image Url: \"),/*#__PURE__*/React.createElement(\"input\",{className:\"input \".concat(this.state.isImageUrlValid?'':'invalidInput'),type:\"url\",id:\"LocationImgUrl\",name:\"imageUrl\",placeholder:\"Image Url\",value:this.state.imageUrl===undefined||this.state.imageUrl==='undefined'?'':this.state.imageUrl,onChange:function onChange(event){onInputChangeHandler(_this2,event);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"locationInputWrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"inputLabel\"},\" Max Occupancy: \"),/*#__PURE__*/React.createElement(\"input\",{className:\"input \".concat(this.state.isMaxOccValid?'':'invalidInput'),type:\"number\",id:\"LocationMaxOcc\",name:\"maxOccupancy\",min:\"1\",max:\"5000\",placeholder:\"Max occupancy\",value:this.state.maxOccupancy===undefined?'':this.state.maxOccupancy,onChange:function onChange(event){onInputChangeHandler(_this2,event);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"locationInputWrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"inputLabel\"},\" Description: \"),/*#__PURE__*/React.createElement(\"textarea\",{id:\"LocationDesc\",className:\"input \".concat(this.state.isDescValid?'':'invalidInput'),name:\"description\",maxLength:\"400\",placeholder:\"Location description\",value:this.state.description===undefined?'':this.state.description,onChange:function onChange(event){onInputChangeHandler(_this2,event);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"charCount\"},this.state.description!==undefined?this.state['description'].length:'0',\"/400\")),((_this$props$match7=this.props.match)===null||_this$props$match7===void 0?void 0:_this$props$match7.params.name)!==undefined?/*#__PURE__*/React.createElement(\"button\",{className:\"primary-btn\",onClick:function onClick(){_this2.props.editLocationHandler(_this2);}},\"Edit\"):/*#__PURE__*/React.createElement(\"button\",{className:\"primary-btn\",onClick:function onClick(){_this2.props.addLocationHandler(_this2);}},\"Add\")));}}]);return AddLocation;}(Component);export default AddLocation;","map":{"version":3,"sources":["/Users/cd/Desktop/team27/src/js/components/AddLocation/index.js"],"names":["React","Component","Redirect","onInputChangeHandler","AddLocation","state","locationName","props","match","params","name","address","addr","imageUrl","decodeURIComponent","img","maxOccupancy","maxOcc","description","desc","isNameValid","isAddressValid","isImageUrlValid","isMaxOccValid","isDescValid","newLocationAdded","goToAlertSystem","displayErrorMsg","undefined","event","length","editLocationHandler","addLocationHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { onInputChangeHandler } from '../../actions/utils';\nimport './styles.css';\n\nclass AddLocation extends Component {\n  state = {\n    locationName: this.props.match?.params.name,\n    address: this.props.match?.params.addr,\n    imageUrl: decodeURIComponent(this.props.match?.params.img),\n    maxOccupancy: this.props.match?.params.maxOcc,\n    description: this.props.match?.params.desc,\n    isNameValid: true,\n    isAddressValid: true,\n    isImageUrlValid: true,\n    isMaxOccValid: true,\n    isDescValid: true,\n    newLocationAdded: false,\n  };\n\n  goToAlertSystem = () => {\n    if (this.state.newLocationAdded) {\n      return <Redirect to=\"/alert-system\" />;\n    }\n  };\n\n  displayErrorMsg = () => {\n    const { isNameValid, isAddressValid, isImageUrlValid, isMaxOccValid, isDescValid } = this.state;\n    if (isNameValid && isAddressValid && isImageUrlValid && isMaxOccValid && isDescValid) {\n      return '';\n    } else {\n      return <span className=\"errorMsg\"> Input fields in red are missing</span>;\n    }\n  };\n\n  render() {\n    return (\n      <div id=\"AddLocationWrapper\">\n        {this.goToAlertSystem()}\n        <div id=\"AddLocationWindow\" className=\"windowWrapper\">\n          <h1> {this.props.match?.params.name !== undefined ? 'Edit' : 'Add'} Location </h1>\n          {this.displayErrorMsg()}\n          <div className=\"locationInputWrapper\">\n            <span className=\"inputLabel\"> Location Name: </span>\n            <input\n              className={`input ${this.state.isNameValid ? '' : 'invalidInput'}`}\n              type=\"text\"\n              id=\"LocationName\"\n              name=\"locationName\"\n              placeholder=\"Location name\"\n              value={this.state.locationName === undefined ? '' : this.state.locationName}\n              onChange={(event) => {\n                onInputChangeHandler(this, event);\n              }}\n            />\n          </div>\n          <div className=\"locationInputWrapper\">\n            <span className=\"inputLabel\"> Address: </span>\n            <input\n              className={`input ${this.state.isAddressValid ? '' : 'invalidInput'}`}\n              type=\"text\"\n              id=\"LocationAddress\"\n              name=\"address\"\n              placeholder=\"Address\"\n              value={this.state.address === undefined ? '' : this.state.address}\n              onChange={(event) => {\n                onInputChangeHandler(this, event);\n              }}\n            />\n          </div>\n          <div className=\"locationInputWrapper\">\n            <span className=\"inputLabel\"> Image Url: </span>\n            <input\n              className={`input ${this.state.isImageUrlValid ? '' : 'invalidInput'}`}\n              type=\"url\"\n              id=\"LocationImgUrl\"\n              name=\"imageUrl\"\n              placeholder=\"Image Url\"\n              value={\n                this.state.imageUrl === undefined || this.state.imageUrl === 'undefined'\n                  ? ''\n                  : this.state.imageUrl\n              }\n              onChange={(event) => {\n                onInputChangeHandler(this, event);\n              }}\n            />\n          </div>\n          <div className=\"locationInputWrapper\">\n            <span className=\"inputLabel\"> Max Occupancy: </span>\n            <input\n              className={`input ${this.state.isMaxOccValid ? '' : 'invalidInput'}`}\n              type=\"number\"\n              id=\"LocationMaxOcc\"\n              name=\"maxOccupancy\"\n              min=\"1\"\n              max=\"5000\"\n              placeholder=\"Max occupancy\"\n              value={this.state.maxOccupancy === undefined ? '' : this.state.maxOccupancy}\n              onChange={(event) => {\n                onInputChangeHandler(this, event);\n              }}\n            />\n          </div>\n          <div className=\"locationInputWrapper\">\n            <span className=\"inputLabel\"> Description: </span>\n            <textarea\n              id=\"LocationDesc\"\n              className={`input ${this.state.isDescValid ? '' : 'invalidInput'}`}\n              name=\"description\"\n              maxLength=\"400\"\n              placeholder=\"Location description\"\n              value={this.state.description === undefined ? '' : this.state.description}\n              onChange={(event) => {\n                onInputChangeHandler(this, event);\n              }}\n            />\n            <br />\n            <span className=\"charCount\">\n              {this.state.description !== undefined ? this.state['description'].length : '0'}/400\n            </span>\n          </div>\n          {this.props.match?.params.name !== undefined ? (\n            <button\n              className=\"primary-btn\"\n              onClick={() => {\n                this.props.editLocationHandler(this);\n              }}\n            >\n              Edit\n            </button>\n          ) : (\n            <button\n              className=\"primary-btn\"\n              onClick={() => {\n                this.props.addLocationHandler(this);\n              }}\n            >\n              Add\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddLocation;\n"]},"metadata":{},"sourceType":"module"}